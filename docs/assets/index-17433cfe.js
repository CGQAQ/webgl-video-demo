(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(n){if(n.ep)return;n.ep=!0;const t=i(n);fetch(n.href,t)}})();function V(e){const r=I(e),i=Y(e),o=w(e),n=X(e);return{position:r,normal:n,textureCoord:i,indices:o}}function I(e){const r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);const i=[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1];return e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW),r}function w(e){const r=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r);const i=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];return e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW),r}function Y(e){const r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);const i=[0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1];return e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW),r}function X(e){const r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);const i=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0];return e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW),r}var G=1e-6,D=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,r=arguments.length;r--;)e+=arguments[r]*arguments[r];return Math.sqrt(e)});function U(){var e=new D(16);return D!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function z(e,r){if(e===r){var i=r[1],o=r[2],n=r[3],t=r[6],a=r[7],s=r[11];e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=i,e[6]=r[9],e[7]=r[13],e[8]=o,e[9]=t,e[11]=r[14],e[12]=n,e[13]=a,e[14]=s}else e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15];return e}function W(e,r){var i=r[0],o=r[1],n=r[2],t=r[3],a=r[4],s=r[5],f=r[6],m=r[7],c=r[8],v=r[9],x=r[10],u=r[11],A=r[12],E=r[13],T=r[14],h=r[15],F=i*s-o*a,y=i*f-n*a,M=i*m-t*a,P=o*f-n*s,S=o*m-t*s,R=n*m-t*f,b=c*E-v*A,p=c*T-x*A,L=c*h-u*A,l=v*T-x*E,_=v*h-u*E,B=x*h-u*T,d=F*B-y*_+M*l+P*L-S*p+R*b;return d?(d=1/d,e[0]=(s*B-f*_+m*l)*d,e[1]=(n*_-o*B-t*l)*d,e[2]=(E*R-T*S+h*P)*d,e[3]=(x*S-v*R-u*P)*d,e[4]=(f*L-a*B-m*p)*d,e[5]=(i*B-n*L+t*p)*d,e[6]=(T*M-A*R-h*y)*d,e[7]=(c*R-x*M+u*y)*d,e[8]=(a*_-s*L+m*b)*d,e[9]=(o*L-i*_-t*b)*d,e[10]=(A*S-E*M+h*F)*d,e[11]=(v*M-c*S-u*F)*d,e[12]=(s*p-a*l-f*b)*d,e[13]=(i*l-o*p+n*b)*d,e[14]=(E*y-A*P-T*F)*d,e[15]=(c*P-v*y+x*F)*d,e):null}function j(e,r,i){var o=i[0],n=i[1],t=i[2],a,s,f,m,c,v,x,u,A,E,T,h;return r===e?(e[12]=r[0]*o+r[4]*n+r[8]*t+r[12],e[13]=r[1]*o+r[5]*n+r[9]*t+r[13],e[14]=r[2]*o+r[6]*n+r[10]*t+r[14],e[15]=r[3]*o+r[7]*n+r[11]*t+r[15]):(a=r[0],s=r[1],f=r[2],m=r[3],c=r[4],v=r[5],x=r[6],u=r[7],A=r[8],E=r[9],T=r[10],h=r[11],e[0]=a,e[1]=s,e[2]=f,e[3]=m,e[4]=c,e[5]=v,e[6]=x,e[7]=u,e[8]=A,e[9]=E,e[10]=T,e[11]=h,e[12]=a*o+c*n+A*t+r[12],e[13]=s*o+v*n+E*t+r[13],e[14]=f*o+x*n+T*t+r[14],e[15]=m*o+u*n+h*t+r[15]),e}function N(e,r,i,o){var n=o[0],t=o[1],a=o[2],s=Math.hypot(n,t,a),f,m,c,v,x,u,A,E,T,h,F,y,M,P,S,R,b,p,L,l,_,B,d,C;return s<G?null:(s=1/s,n*=s,t*=s,a*=s,f=Math.sin(i),m=Math.cos(i),c=1-m,v=r[0],x=r[1],u=r[2],A=r[3],E=r[4],T=r[5],h=r[6],F=r[7],y=r[8],M=r[9],P=r[10],S=r[11],R=n*n*c+m,b=t*n*c+a*f,p=a*n*c-t*f,L=n*t*c-a*f,l=t*t*c+m,_=a*t*c+n*f,B=n*a*c+t*f,d=t*a*c-n*f,C=a*a*c+m,e[0]=v*R+E*b+y*p,e[1]=x*R+T*b+M*p,e[2]=u*R+h*b+P*p,e[3]=A*R+F*b+S*p,e[4]=v*L+E*l+y*_,e[5]=x*L+T*l+M*_,e[6]=u*L+h*l+P*_,e[7]=A*L+F*l+S*_,e[8]=v*B+E*d+y*C,e[9]=x*B+T*d+M*C,e[10]=u*B+h*d+P*C,e[11]=A*B+F*d+S*C,r!==e&&(e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e)}function H(e,r,i,o,n){var t=1/Math.tan(r/2),a;return e[0]=t/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n!=null&&n!==1/0?(a=1/(o-n),e[10]=(n+o)*a,e[14]=2*n*o*a):(e[10]=-1,e[14]=-2*o),e}var q=H;function K(e,r,i,o,n){e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);const t=45*Math.PI/180,a=e.canvas.clientWidth/e.canvas.clientHeight,s=.1,f=100,m=U();q(m,t,a,s,f);const c=U();j(c,c,[-0,0,-6]),N(c,c,n,[0,0,1]),N(c,c,n*.7,[0,1,0]),N(c,c,n*.3,[1,0,0]);const v=U();W(v,c),z(v,v),$(e,i,r),Q(e,i,r),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i.indices),J(e,i,r),e.useProgram(r.program),e.uniformMatrix4fv(r.uniformLocations.projectionMatrix,!1,m),e.uniformMatrix4fv(r.uniformLocations.modelViewMatrix,!1,c),e.uniformMatrix4fv(r.uniformLocations.normalMatrix,!1,v),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,o),e.uniform1i(r.uniformLocations.uSampler,0);{const u=e.UNSIGNED_SHORT,A=0;e.drawElements(e.TRIANGLES,36,u,A)}}function $(e,r,i){const n=e.FLOAT,t=!1,a=0,s=0;e.bindBuffer(e.ARRAY_BUFFER,r.position),e.vertexAttribPointer(i.attribLocations.vertexPosition,3,n,t,a,s),e.enableVertexAttribArray(i.attribLocations.vertexPosition)}function Q(e,r,i){const n=e.FLOAT,t=!1,a=0,s=0;e.bindBuffer(e.ARRAY_BUFFER,r.textureCoord),e.vertexAttribPointer(i.attribLocations.textureCoord,2,n,t,a,s),e.enableVertexAttribArray(i.attribLocations.textureCoord)}function J(e,r,i){const n=e.FLOAT,t=!1,a=0,s=0;e.bindBuffer(e.ARRAY_BUFFER,r.normal),e.vertexAttribPointer(i.attribLocations.vertexNormal,3,n,t,a,s),e.enableVertexAttribArray(i.attribLocations.vertexNormal)}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("video"),i=document.getElementById("canvas").getContext("webgl");if(!i){alert("WebGL not supported");return}i.clearColor(0,0,0,1),i.clear(i.COLOR_BUFFER_BIT);const t=Z(i,`
 attribute vec4 aVertexPosition;
 attribute vec3 aVertexNormal;
 attribute vec2 aTextureCoord;
 uniform mat4 uNormalMatrix;
 uniform mat4 uModelViewMatrix;
 uniform mat4 uProjectionMatrix;
 varying highp vec2 vTextureCoord;
 varying highp vec3 vLighting;
 void main(void) {
   gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;
   vTextureCoord = aTextureCoord;
   // Apply lighting effect
   highp vec3 ambientLight = vec3(0.3, 0.3, 0.3);
   highp vec3 directionalLightColor = vec3(1, 1, 1);
   highp vec3 directionalVector = normalize(vec3(0.85, 0.8, 0.75));
   highp vec4 transformedNormal = uNormalMatrix * vec4(aVertexNormal, 1.0);
   highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);
   vLighting = ambientLight + (directionalLightColor * directional);
 }
`,`
 varying highp vec2 vTextureCoord;
 varying highp vec3 vLighting;
 uniform sampler2D uSampler;
 void main(void) {
   highp vec4 texelColor = texture2D(uSampler, vTextureCoord);
   gl_FragColor = vec4(texelColor.rgb * vLighting, texelColor.a);
 }
`),a={program:t,attribLocations:{vertexPosition:i.getAttribLocation(t,"aVertexPosition"),vertexNormal:i.getAttribLocation(t,"aVertexNormal"),textureCoord:i.getAttribLocation(t,"aTextureCoord")},uniformLocations:{projectionMatrix:i.getUniformLocation(t,"uProjectionMatrix"),modelViewMatrix:i.getUniformLocation(t,"uModelViewMatrix"),normalMatrix:i.getUniformLocation(t,"uNormalMatrix"),uSampler:i.getUniformLocation(t,"uSampler")}},s=V(i);let f=!1;e.addEventListener("play",()=>{f=!0}),e.addEventListener("pause",()=>{f=!1}),e.addEventListener("ended",()=>{f=!1});const m=k(i);let c=0,v=0;function x(u){u*=.001;let A=u-v;v=u,f&&(g(i,m,e),K(i,a,s,m,c),c+=A),requestAnimationFrame(x)}x(0)});function Z(e,r,i){const o=O(e,e.VERTEX_SHADER,r),n=O(e,e.FRAGMENT_SHADER,i),t=e.createProgram();return e.attachShader(t,o),e.attachShader(t,n),e.linkProgram(t),e.getProgramParameter(t,e.LINK_STATUS)?t:(alert(`Unable to initialize the shader program: ${e.getProgramInfoLog(t)}`),null)}function O(e,r,i){const o=e.createShader(r);return e.shaderSource(o,i),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)?o:(alert(`An error occurred compiling the shaders: ${e.getShaderInfoLog(o)}`),e.deleteShader(o),null)}function k(e){const r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const i=0,o=e.RGBA,n=1,t=1,a=0,s=e.RGBA,f=e.UNSIGNED_BYTE,m=new Uint8Array([0,0,255,255]);return e.texImage2D(e.TEXTURE_2D,i,o,n,t,a,s,f,m),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),r}function g(e,r,i){const n=e.RGBA,t=e.RGBA,a=e.UNSIGNED_BYTE;e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n,t,a,i)}
